v {xschem version=3.1.0 file_version=1.2
}
G {}
K {}
V {}
S {}
E {}
N -840 -550 -760 -550 {
lab=Vn_OR}
N -300 -520 -200 -520 {
lab=Vout_OR}
N -280 -440 -280 -420 {
lab=GND}
N -280 -520 -280 -500 {
lab=Vout_OR}
N -840 -550 -840 -520 {
lab=Vn_OR}
N -840 -460 -840 -440 {
lab=GND}
N -730 -520 -730 -490 {
lab=Vp_OR}
N -730 -430 -730 -410 {
lab=GND}
N -840 -620 -840 -550 {
lab=Vn_OR}
N -840 230 -760 230 {
lab=Vn_GAIN}
N -840 230 -840 260 {
lab=Vn_GAIN}
N -840 320 -840 340 {
lab=GND}
N -840 160 -840 230 {
lab=Vn_GAIN}
N -840 -20 -840 100 {
lab=Vout_GAIN}
N -940 60 -940 100 {
lab=VDD}
N -940 160 -940 230 {
lab=Vn_GAIN}
N -940 230 -840 230 {
lab=Vn_GAIN}
N -710 270 -710 280 {
lab=Vp_GAIN}
N 1660 -500 1760 -500 {
lab=Vout_PM}
N 1560 -150 1560 -130 {
lab=GND}
N 960 -590 960 -580 {
lab=Vp_PM}
N 1300 -140 1300 -120 {
lab=GND}
N 1560 -160 1560 -150 {
lab=GND}
N 1760 -500 1760 -210 {
lab=Vout_PM}
N 1600 -210 1760 -210 {
lab=Vout_PM}
N 1380 -220 1560 -220 {
lab=#net1}
N 1300 -220 1300 -200 {
lab=#net2}
N 1300 -220 1320 -220 {
lab=#net2}
N 940 -220 1300 -220 {
lab=#net2}
N 1560 -130 1560 -120 {
lab=GND}
N 1600 -170 1600 -140 {
lab=GND}
N 1560 -140 1590 -140 {
lab=GND}
N 1590 -140 1600 -140 {
lab=GND}
N 900 -170 900 -120 {
lab=GND}
N 940 -180 940 -140 {
lab=GND}
N 900 -140 940 -140 {
lab=GND}
N 900 -550 900 -230 {
lab=Vn_PM}
N 900 230 980 230 {
lab=Vn_STEP}
N 900 230 900 260 {
lab=Vn_STEP}
N 900 320 900 340 {
lab=GND}
N 900 160 900 230 {
lab=Vn_STEP}
N 800 60 800 100 {
lab=VDD}
N 800 160 800 230 {
lab=Vn_STEP}
N 800 230 900 230 {
lab=Vn_STEP}
N 960 320 960 330 {
lab=Vp_STEP}
N 1760 -500 1940 -500 {
lab=Vout_PM}
N 1820 -440 1820 -430 {
lab=GND}
N 1900 -440 1900 -410 {
lab=GND}
N 960 -630 1090 -630 {
lab=Vp_PM}
N 960 -630 960 -590 {
lab=Vp_PM}
N 900 -650 900 -550 {
lab=Vn_PM}
N 900 -650 1090 -650 {
lab=Vn_PM}
N 1240 -720 1240 -690 {
lab=VDD}
N 980 230 1040 230 {
lab=Vn_STEP}
N 960 250 960 320 {
lab=Vp_STEP}
N 960 250 1000 250 {
lab=Vp_STEP}
N 1000 250 1040 250 {
lab=Vp_STEP}
N 1190 170 1190 190 {
lab=VDD}
N 900 10 1410 10 {
lab=Vout_STEP}
N 900 10 900 100 {
lab=Vout_STEP}
N -500 120 -500 140 {
lab=VDD}
N -760 180 -760 230 {
lab=Vn_GAIN}
N -760 180 -650 180 {
lab=Vn_GAIN}
N -710 200 -710 270 {
lab=Vp_GAIN}
N -710 200 -650 200 {
lab=Vp_GAIN}
N -250 -20 -250 210 {
lab=Vout_GAIN}
N -840 -20 -250 -20 {
lab=Vout_GAIN}
N -540 -610 -540 -590 {
lab=VDD}
N -760 -550 -690 -550 {
lab=Vn_OR}
N -730 -530 -730 -520 {
lab=Vp_OR}
N -730 -530 -690 -530 {
lab=Vp_OR}
N -280 -720 -280 -520 {
lab=Vout_OR}
N -840 -720 -280 -720 {
lab=Vout_OR}
N -840 -720 -840 -680 {
lab=Vout_OR}
N -690 -530 -680 -530 {
lab=Vp_OR}
N -690 -550 -680 -550 {
lab=Vn_OR}
N -300 -530 -300 -520 {
lab=Vout_OR}
N -380 -530 -300 -530 {
lab=Vout_OR}
N -380 -490 -370 -490 {
lab=#net3}
N -540 -430 -380 -430 {
lab=GND}
N -380 -470 -380 -430 {
lab=GND}
N -700 -490 -680 -490 {
lab=#net4}
N -710 -510 -680 -510 {
lab=#net5}
N -540 -590 -380 -590 {
lab=VDD}
N -380 -590 -380 -550 {
lab=VDD}
N -380 -510 -350 -510 {
lab=VDD}
N -350 -560 -350 -510 {
lab=VDD}
N -380 -560 -350 -560 {
lab=VDD}
N -350 200 -290 200 {
lab=Vout_GAIN}
N -290 200 -290 210 {
lab=Vout_GAIN}
N -290 210 -250 210 {
lab=Vout_GAIN}
N -350 240 -320 240 {
lab=#net6}
N -500 340 -350 340 {
lab=GND}
N -350 260 -350 340 {
lab=GND}
N -690 220 -650 220 {
lab=#net7}
N -690 240 -650 240 {
lab=#net8}
N -350 180 -340 180 {
lab=VDD}
N -340 180 -340 220 {
lab=VDD}
N -350 220 -340 220 {
lab=VDD}
N -340 140 -340 180 {
lab=VDD}
N -500 140 -340 140 {
lab=VDD}
N 1390 -590 1410 -590 {
lab=#net9}
N 1390 -630 1570 -630 {
lab=Vout_PM}
N 1570 -630 1570 -500 {
lab=Vout_PM}
N 1570 -500 1660 -500 {
lab=Vout_PM}
N 1390 -610 1410 -610 {
lab=VDD}
N 1410 -650 1410 -610 {
lab=VDD}
N 1390 -650 1410 -650 {
lab=VDD}
N 1240 -690 1410 -690 {
lab=VDD}
N 1410 -690 1410 -650 {
lab=VDD}
N 1240 -510 1390 -510 {
lab=GND}
N 1390 -570 1390 -510 {
lab=GND}
N 1060 -590 1090 -590 {
lab=#net10}
N 1060 -610 1090 -610 {
lab=#net11}
N 1180 390 1340 390 {
lab=GND}
N 1340 310 1340 390 {
lab=GND}
N 1190 190 1350 190 {
lab=VDD}
N 1350 190 1350 230 {
lab=VDD}
N 1340 230 1350 230 {
lab=VDD}
N 1340 270 1360 270 {
lab=VDD}
N 1360 230 1360 270 {
lab=VDD}
N 1350 230 1360 230 {
lab=VDD}
N 1000 290 1040 290 {
lab=#net12}
N 1000 270 1040 270 {
lab=#net13}
N -230 -980 -230 -960 {
lab=VDD}
N -230 -900 -230 -880 {
lab=GND}
N 1340 290 1360 290 {
lab=#net14}
N 1340 250 1410 250 {
lab=Vout_STEP}
N 1410 10 1410 250 {
lab=Vout_STEP}
C {devices/vsource.sym} -730 -460 0 0 {name=V9 value=1}
C {devices/gnd.sym} -840 -440 0 0 {name=l7 lab=GND}
C {devices/gnd.sym} -730 -410 0 0 {name=l8 lab=GND}
C {devices/lab_pin.sym} -730 -520 0 0 {name=l10 sig_type=std_logic lab=Vp_OR
}
C {devices/lab_pin.sym} -840 -550 0 0 {name=l11 sig_type=std_logic lab=Vn_OR
}
C {devices/lab_pin.sym} -200 -520 2 0 {name=l14 sig_type=std_logic lab=Vout_OR}
C {devices/spice_probe.sym} -280 -520 0 0 {name=p1 attrs=""
voltage=1}
C {devices/isource.sym} -280 -470 2 0 {name=I2 value="0 AC 1"}
C {devices/gnd.sym} -280 -420 0 0 {name=l15 lab=GND}
C {devices/ind.sym} -840 -650 0 0 {name=L6
m=1
value=1T
footprint=1206
device=inductor}
C {devices/capa.sym} -840 -490 0 0 {name=C4
m=1
value=1T
footprint=1206
device="ceramic capacitor"}
C {devices/gnd.sym} -840 340 0 0 {name=l20 lab=GND}
C {devices/lab_pin.sym} -710 270 2 0 {name=l22 sig_type=std_logic lab=Vp_GAIN
}
C {devices/lab_pin.sym} -250 210 2 0 {name=l27 sig_type=std_logic lab=Vout_GAIN

}
C {devices/res.sym} -840 130 2 0 {name=R8
value=9K
footprint=1206
device=resistor
m=1}
C {devices/res.sym} -840 290 2 0 {name=R9
value=2.25K
footprint=1206
device=resistor
m=1}
C {devices/res.sym} -940 130 2 0 {name=R10
value=1.8K
footprint=1206
device=resistor
m=1}
C {devices/vdd.sym} -940 60 0 0 {name=l29 lab=VDD}
C {devices/lab_pin.sym} -840 200 0 0 {name=l30 sig_type=std_logic lab=Vn_GAIN
}
C {devices/vsource.sym} -710 310 0 0 {name=V10 value="sin(0 0.05 1MEG) AC 1" }
C {devices/vsource.sym} -710 370 0 0 {name=V11 value=1}
C {devices/gnd.sym} -710 400 0 0 {name=l21 lab=GND}
C {devices/vcvs.sym} 1560 -190 0 1 {name=E3 value=1}
C {devices/vcvs.sym} 900 -200 0 1 {name=E4 value=1}
C {devices/vsource.sym} 960 -490 0 0 {name=V12 value=1}
C {devices/gnd.sym} 960 -460 0 0 {name=l36 lab=GND}
C {devices/lab_pin.sym} 960 -590 2 0 {name=l37 sig_type=std_logic lab=Vp_PM
}
C {devices/lab_pin.sym} 900 -550 0 0 {name=l38 sig_type=std_logic lab=Vn_PM
}
C {devices/lab_pin.sym} 1940 -500 2 0 {name=l42 sig_type=std_logic lab=Vout_PM}
C {devices/spice_probe.sym} 1660 -500 0 0 {name=p3 attrs=""
voltage=1}
C {devices/gnd.sym} 1560 -120 0 0 {name=l28 lab=GND}
C {devices/vsource.sym} 960 -550 0 0 {name=V13 value="sin(0 0.0005 1MEG) AC 1" }
C {devices/capa.sym} 1300 -170 0 0 {name=C5
m=1
value=1T
footprint=1206
device="ceramic capacitor"}
C {devices/res.sym} 1350 -220 1 0 {name=R11
value=1T
footprint=1206
device=resistor
m=1}
C {devices/gnd.sym} 1300 -120 0 0 {name=l31 lab=GND}
C {devices/gnd.sym} 900 -120 0 0 {name=l43 lab=GND}
C {devices/spice_probe.sym} 900 -550 0 0 {name=p4 attrs=""
voltage=1}
C {devices/gnd.sym} 900 340 0 0 {name=l48 lab=GND}
C {devices/lab_pin.sym} 960 320 2 0 {name=l49 sig_type=std_logic lab=Vp_STEP
}
C {devices/lab_pin.sym} 1410 240 2 0 {name=l53 sig_type=std_logic lab=Vout_STEP

}
C {devices/res.sym} 900 130 2 0 {name=R12
value=9K
footprint=1206
device=resistor
m=1}
C {devices/res.sym} 900 290 2 0 {name=R13
value=2.25K
footprint=1206
device=resistor
m=1}
C {devices/res.sym} 800 130 2 0 {name=R14
value=1.8K
footprint=1206
device=resistor
m=1}
C {devices/vdd.sym} 800 60 0 0 {name=l54 lab=VDD}
C {devices/lab_pin.sym} 900 200 0 0 {name=l55 sig_type=std_logic lab=Vn_STEP
}
C {devices/vsource.sym} 960 420 0 0 {name=V14 value=1}
C {devices/gnd.sym} 960 450 0 0 {name=l56 lab=GND}
C {devices/vsource.sym} 960 360 0 0 {name=V15 value="pulse (-.05 .05 1n 1f 1f 1 1 0)"}
C {devices/capa.sym} 1820 -470 0 0 {name=C6
m=1
value=10p
footprint=1206
device="ceramic capacitor"}
C {devices/gnd.sym} 1820 -430 0 0 {name=l13 lab=GND}
C {devices/res.sym} 1900 -470 2 0 {name=R15
value=1e6
footprint=1206
device=resistor
m=1}
C {devices/gnd.sym} 1900 -420 0 0 {name=l9 lab=GND}
C {devices/gnd.sym} 1240 -510 0 0 {name=l12 lab=GND}
C {devices/vdd.sym} 1240 -720 0 0 {name=l65 lab=VDD}
C {devices/noconn.sym} 1410 -590 2 0 {name=l16}
C {devices/vdd.sym} 1190 170 0 0 {name=l17 lab=VDD}
C {devices/gnd.sym} 1180 390 0 0 {name=l18 lab=GND}
C {devices/noconn.sym} 1360 290 2 0 {name=l19}
C {devices/vdd.sym} -500 120 0 0 {name=l23 lab=VDD}
C {devices/gnd.sym} -500 340 0 0 {name=l24 lab=GND}
C {devices/noconn.sym} -320 240 2 0 {name=l25}
C {devices/vdd.sym} -540 -610 0 0 {name=l26 lab=VDD}
C {devices/gnd.sym} -540 -430 0 0 {name=l32 lab=GND}
C {devices/noconn.sym} -710 -510 0 0 {name=l33}
C {devices/noconn.sym} -370 -490 2 0 {name=l1}
C {devices/noconn.sym} -700 -490 0 0 {name=l2}
C {devices/noconn.sym} -690 220 0 0 {name=l3}
C {devices/noconn.sym} -690 240 0 0 {name=l4}
C {devices/noconn.sym} 1060 -610 0 0 {name=l5}
C {devices/noconn.sym} 1060 -590 0 0 {name=l34}
C {devices/noconn.sym} 1000 270 0 0 {name=l35}
C {devices/noconn.sym} 1000 290 0 0 {name=l39}
C {devices/vdd.sym} -230 -980 0 0 {name=l7 lab=VDD}
C {devices/vsource.sym} -230 -930 0 0 {name=V1 value=1.8}
C {devices/gnd.sym} -230 -880 0 0 {name=l8 lab=GND}
C {devices/code_shown.sym} 90 -1040 0 0 {name=s1 only_toplevel=false value=
"
.lib /foss/pdk/sky130A/libs.tech/ngspice/sky130.lib.spice tt
.include /foss/designs/Tapeout_Ready_v4/OTA_GM_Layout/user_analog_project_wrapper.spice

.control
save all

%tran 0.01u 5u
%op
ac dec 100 1K 5G
plot db(v(Vout_PM)) cph(v(Vout_PM))*180/pi
plot db(v(Vout_OR)) cph(v(Vout_PM))*180/pi
%plot v(Vout_GAIN)
%plot v(Vout_STEP)

write Mult_test.raw
.endc
"}
C {user_analog_project_wrapper.sym} -530 -510 0 0 {name=x1}
C {user_analog_project_wrapper.sym} -500 220 0 0 {name=x2}
C {user_analog_project_wrapper.sym} 1240 -610 0 0 {name=x3}
C {user_analog_project_wrapper.sym} 1190 270 0 0 {name=x4}
